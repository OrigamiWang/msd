<svg id="SvgjsSvg1006" width="1259.388888888889" height="823.7222298516166" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><pattern patternUnits="userSpaceOnUse" id="pattern_mark_0" width="300" height="300"><text x="150" y="100" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><pattern patternUnits="userSpaceOnUse" id="pattern_mark_1" width="300" height="300"><text x="150" y="200" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><marker id="SvgjsMarker1051" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1052" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1055" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1056" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1059" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1060" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1067" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1068" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1071" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1072" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1091" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1092" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1105" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1106" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1135" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1136" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1149" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1150" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1179" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1180" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1195" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1196" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1223" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1224" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1235" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1236" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="1259.388888888889" height="823.7222298516166" fill="transparent"></rect><rect id="SvgjsRect1009" width="1259.388888888889" height="823.7222298516166" fill="url(#pattern_mark_0)"></rect><rect id="SvgjsRect1010" width="1259.388888888889" height="823.7222298516166" fill="url(#pattern_mark_1)"></rect><g id="SvgjsG1011" transform="translate(109.5,25)"><path id="SvgjsPath1012" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1013"><text id="SvgjsText1014" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1015" dy="16.25" x="48"><tspan id="SvgjsTspan1016" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1017" transform="translate(109.5,283)"><path id="SvgjsPath1018" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1019"><text id="SvgjsText1020" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1021" dy="16.25" x="48"><tspan id="SvgjsTspan1022" style="">register-</tspan></tspan><tspan id="SvgjsTspan1023" dy="16.25" x="48"><tspan id="SvgjsTspan1024" style="">center</tspan></tspan></text></g></g><g id="SvgjsG1025" transform="translate(374.5,25)"><path id="SvgjsPath1026" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1027"><text id="SvgjsText1028" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1029" dy="16.25" x="48"><tspan id="SvgjsTspan1030" style="">manage(1)</tspan></tspan></text></g></g><g id="SvgjsG1031" transform="translate(490.5,25)"><path id="SvgjsPath1032" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1033"><text id="SvgjsText1034" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1035" dy="16.25" x="48"><tspan id="SvgjsTspan1036" style="">manage(2)</tspan></tspan></text></g></g><g id="SvgjsG1037" transform="translate(606.5,25)"><path id="SvgjsPath1038" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1039"><text id="SvgjsText1040" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1041" dy="16.25" x="48"><tspan id="SvgjsTspan1042" style="">manage(3)</tspan></tspan></text></g></g><g id="SvgjsG1043" transform="translate(264.5,270)"><path id="SvgjsPath1044" d="M 0 11.666666666666666L 0 68C 0 84 70 84 70 68L 70 11.666666666666666C 70 -3.1818181818181817 0 -3.1818181818181817 0 11.666666666666666ZM 0 11.666666666666666C 0 26.25 70 26.25 70 11.666666666666666C 70 26.25 0 26.25 0 11.666666666666666" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1045"><text id="SvgjsText1046" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="21.375" transform="rotate(0)"><tspan id="SvgjsTspan1047" dy="16.25" x="35"><tspan id="SvgjsTspan1048" style="">redis</tspan></tspan></text></g></g><g id="SvgjsG1049"><path id="SvgjsPath1050" d="M422.5 79.75L422.5 310L337.2 310" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1051)"></path></g><g id="SvgjsG1053"><path id="SvgjsPath1054" d="M538.5 79.75L538.5 310L337.2 310" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1055)"></path></g><g id="SvgjsG1057"><path id="SvgjsPath1058" d="M654.5 79.75L654.5 310L337.2 310" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1059)"></path><rect id="SvgjsRect1061" width="333" height="16" x="316.5" y="178.4112850438445" fill="#ffffff"></rect><text id="SvgjsText1062" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="333px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="175.7862850438445" transform="rotate(0)"><tspan id="SvgjsTspan1063" dy="16.25" x="483"><tspan id="SvgjsTspan1064" style="">1. svc start，register at redis. Eg: there are 3 instances</tspan></tspan></text></g><g id="SvgjsG1065"><path id="SvgjsPath1066" d="M263.75 310L235 310L235 310L208.2 310" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1067)"></path></g><g id="SvgjsG1069"><path id="SvgjsPath1070" d="M157.5 282.25L157.5 181L157.5 181L157.5 81.69999999999999" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1071)"></path><rect id="SvgjsRect1073" width="264" height="16" x="25.5" y="178.23505151973055" fill="#ffffff"></rect><text id="SvgjsText1074" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="264px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="175.61005151973055" transform="rotate(0)"><tspan id="SvgjsTspan1075" dy="16.25" x="157.5"><tspan id="SvgjsTspan1076" style="">2. get live instance through register-center</tspan></tspan></text></g><g id="SvgjsG1077" transform="translate(942.75,25)"><path id="SvgjsPath1078" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1079"><text id="SvgjsText1080" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1081" dy="16.25" x="48"><tspan id="SvgjsTspan1082" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1083" transform="translate(930.5,283)"><path id="SvgjsPath1084" d="M 0 4Q 0 0 4 0L 116.5 0Q 120.5 0 120.5 4L 120.5 50Q 120.5 54 116.5 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1085"><text id="SvgjsText1086" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="101px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1087" dy="16.25" x="60.5"><tspan id="SvgjsTspan1088" style="">manage(1/2/3)</tspan></tspan></text></g></g><g id="SvgjsG1089"><path id="SvgjsPath1090" d="M990.75 79.75L990.75 116.5L990.75 116.5L990.75 151.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1091)"></path><rect id="SvgjsRect1093" width="52" height="16" x="964.75" y="109.91000000000001" fill="#ffffff"></rect><text id="SvgjsText1094" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="107.28500000000001" transform="rotate(0)"><tspan id="SvgjsTspan1095" dy="16.25" x="990.75"><tspan id="SvgjsTspan1096" style="">负载均衡</tspan></tspan></text></g><g id="SvgjsG1097" transform="translate(935.25,154)"><path id="SvgjsPath1098" d="M 0 0L 111 0L 111 54L 0 54Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1099"><text id="SvgjsText1100" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1101" dy="16.25" x="55.5"><tspan id="SvgjsTspan1102" style="">LoadBalancer</tspan></tspan></text></g></g><g id="SvgjsG1103"><path id="SvgjsPath1104" d="M990.75 208.75L990.75 245.5L990.75 245.5L990.75 280.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1105)"></path><rect id="SvgjsRect1107" width="26" height="16" x="977.75" y="237.002" fill="#ffffff"></rect><text id="SvgjsText1108" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="234.377" transform="rotate(0)"><tspan id="SvgjsTspan1109" dy="16.25" x="990.75"><tspan id="SvgjsTspan1110" style="">转发</tspan></tspan></text></g><g id="SvgjsG1111" transform="translate(854.1666666666667,457.33333587646484)"><path id="SvgjsPath1112" d="M 0 174.87847444746234L 0 0L 380.2222222222222 0L 380.2222222222222 174.87847444746234Q 285.16666666666663 124.91319603390167 190.1111111111111 174.87847444746234Q 95.05555555555554 224.843752861023 0 174.87847444746234Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1113"><text id="SvgjsText1114" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="381px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="38.31250114440921" transform="rotate(0)"><tspan id="SvgjsTspan1115" dy="16.25" x="190.5"><tspan id="SvgjsTspan1116" style="">1. 微服务启动时向注册中心注册，并通过心跳机制持续与注册中心</tspan></tspan><tspan id="SvgjsTspan1117" dy="16.25" x="190.5"><tspan id="SvgjsTspan1118" style="">交流，保证自己的存活。并用kafka通知gate去添加负载均衡</tspan></tspan><tspan id="SvgjsTspan1119" dy="16.25" x="190.5"><tspan id="SvgjsTspan1120" style="">2. gate用内存保存负载均衡的信息</tspan></tspan><tspan id="SvgjsTspan1121" dy="16.25" x="190.5"><tspan id="SvgjsTspan1122" style="">3. 微服务下线不会通知，但是如果gate访问失败，会主动删除失败</tspan></tspan><tspan id="SvgjsTspan1123" dy="16.25" x="190.5"><tspan id="SvgjsTspan1124" style="">的负载均衡，并尝试访问另一个，直到成功为止</tspan></tspan><tspan id="SvgjsTspan1125" dy="16.25" x="190.5"><tspan id="SvgjsTspan1126" style="">4. 如果全部失败，目前暂时返回no instance available</tspan></tspan></text></g></g><g id="SvgjsG1127" transform="translate(117.5,457.33333587646484)"><path id="SvgjsPath1128" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1129"><text id="SvgjsText1130" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1131" dy="16.25" x="48"><tspan id="SvgjsTspan1132" style="">client</tspan></tspan></text></g></g><g id="SvgjsG1133"><path id="SvgjsPath1134" d="M165.5 512.0833358764648L165.5 575.4944495307075" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1135)"></path><rect id="SvgjsRect1137" width="104" height="16" x="113.5" y="532.0359891091543" fill="#ffffff"></rect><text id="SvgjsText1138" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="104px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="529.4109891091543" transform="rotate(0)"><tspan id="SvgjsTspan1139" dy="16.25" x="165.5"><tspan id="SvgjsTspan1140" style="">1. client call gate </tspan></tspan></text></g><g id="SvgjsG1141" transform="translate(117.5,578.1944495307075)"><path id="SvgjsPath1142" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1143"><text id="SvgjsText1144" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1145" dy="16.25" x="48"><tspan id="SvgjsTspan1146" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1147"><path id="SvgjsPath1148" d="M165.5 632.9444495307075L165.5 733.6333358764648" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1149)"></path><rect id="SvgjsRect1151" width="205" height="48" x="63" y="656.2196403488773" fill="#ffffff"></rect><text id="SvgjsText1152" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="205px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="653.5946403488773" transform="rotate(0)"><tspan id="SvgjsTspan1153" dy="16.25" x="165.5"><tspan id="SvgjsTspan1154" style="">2. if LB transfer req to manage(3) </tspan></tspan><tspan id="SvgjsTspan1155" dy="16.25" x="165.5"><tspan id="SvgjsTspan1156" style="">and failed to get resp, </tspan></tspan><tspan id="SvgjsTspan1157" dy="16.25" x="165.5"><tspan id="SvgjsTspan1158" style="">it will delete the manage(3) in LB</tspan></tspan></text></g><g id="SvgjsG1159" transform="translate(117.5,736.3333358764648)"><path id="SvgjsPath1160" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1161"><text id="SvgjsText1162" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1163" dy="16.25" x="48"><tspan id="SvgjsTspan1164" style="">manage(3)</tspan></tspan></text></g></g><g id="SvgjsG1165" transform="translate(352.5,457.33333587646484)"><path id="SvgjsPath1166" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1167"><text id="SvgjsText1168" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1169" dy="16.25" x="48"><tspan id="SvgjsTspan1170" style="">manage(3)</tspan></tspan></text></g></g><g id="SvgjsG1171" transform="translate(350.5,578.1944495307075)"><path id="SvgjsPath1172" d="M 15 0L 88.33333333333333 0C 103.18181818181819 0 103.18181818181819 70 88.33333333333333 70L 15 70C -5 70 -5 0 15 0ZM 88.33333333333333 0C 73.75 0 73.75 70 88.33333333333333 70C 73.75 70 73.75 0 88.33333333333333 0" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1173"><text id="SvgjsText1174" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1175" dy="16.25" x="40"><tspan id="SvgjsTspan1176" style="">kafka</tspan></tspan></text></g></g><g id="SvgjsG1177"><path id="SvgjsPath1178" d="M400.5 512.0833358764648L400.5 544.7638927035862L400.5 544.7638927035862L400.5 575.4944495307075" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1179)"></path><rect id="SvgjsRect1181" width="206" height="32" x="297.5" y="526.7661328059371" fill="#ffffff"></rect><text id="SvgjsText1182" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="206px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="524.1411328059371" transform="rotate(0)"><tspan id="SvgjsTspan1183" dy="16.25" x="400.5"><tspan id="SvgjsTspan1184" style="">3. when manage(3) up line again,</tspan></tspan><tspan id="SvgjsTspan1185" dy="16.25" x="400.5"><tspan id="SvgjsTspan1186" style="">if will produce msg to kafka</tspan></tspan></text></g><g id="SvgjsG1187" transform="translate(352.5,736.3333358764648)"><path id="SvgjsPath1188" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1189"><text id="SvgjsText1190" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1191" dy="16.25" x="48"><tspan id="SvgjsTspan1192" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1193"><path id="SvgjsPath1194" d="M400.5 648.9444495307075L400.5 692.2638927035862L400.5 692.2638927035862L400.5 733.6333358764648" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1195)"></path><rect id="SvgjsRect1197" width="157" height="32" x="322" y="667.3196182299866" fill="#ffffff"></rect><text id="SvgjsText1198" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="157px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="664.6946182299866" transform="rotate(0)"><tspan id="SvgjsTspan1199" dy="16.25" x="400.5"><tspan id="SvgjsTspan1200" style="">4. gate will consume msg </tspan></tspan><tspan id="SvgjsTspan1201" dy="16.25" x="400.5"><tspan id="SvgjsTspan1202" style="">and add manage(3) in LB</tspan></tspan></text></g><g id="SvgjsG1203" transform="translate(617.8333333333334,578.1944495307075)"><path id="SvgjsPath1204" d="M 15 0L 88.33333333333333 0C 103.18181818181819 0 103.18181818181819 70 88.33333333333333 70L 15 70C -5 70 -5 0 15 0ZM 88.33333333333333 0C 73.75 0 73.75 70 88.33333333333333 70C 73.75 70 73.75 0 88.33333333333333 0" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1205"><text id="SvgjsText1206" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1207" dy="16.25" x="40"><tspan id="SvgjsTspan1208" style="">kafka</tspan></tspan></text></g></g><g id="SvgjsG1209" transform="translate(609.0000000000001,744.7222298516166)"><path id="SvgjsPath1210" d="M 0 4Q 0 0 4 0L 113.66666666666663 0Q 117.66666666666663 0 117.66666666666663 4L 117.66666666666663 50Q 117.66666666666663 54 113.66666666666663 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1211"><text id="SvgjsText1212" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="98px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1213" dy="16.25" x="59"><tspan id="SvgjsTspan1214" style="">manage(1/2/3)</tspan></tspan></text></g></g><g id="SvgjsG1215" transform="translate(619.8333333333334,457.33333587646484)"><path id="SvgjsPath1216" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1217"><text id="SvgjsText1218" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1219" dy="16.25" x="48"><tspan id="SvgjsTspan1220" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1221"><path id="SvgjsPath1222" d="M667.8333333333334 743.9722298516166L667.8333333333333 650.8944495307076" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1223)"></path><rect id="SvgjsRect1225" width="282" height="48" x="526.8333333333333" y="670.4200266573453" fill="#ffffff"></rect><text id="SvgjsText1226" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="282px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="667.7950266573453" transform="rotate(0)"><tspan id="SvgjsTspan1227" dy="16.25" x="667.8333333333333"><tspan id="SvgjsTspan1228" style="">2. when manage online, </tspan></tspan><tspan id="SvgjsTspan1229" dy="16.25" x="667.8333333333333"><tspan id="SvgjsTspan1230" style="">it will produce msg to kafka, </tspan></tspan><tspan id="SvgjsTspan1231" dy="16.25" x="667.8333333333333"><tspan id="SvgjsTspan1232" style="">and gate consume the msg and add svc in LB</tspan></tspan></text></g><g id="SvgjsG1233"><path id="SvgjsPath1234" d="M667.8333333333334 577.4444495307075L667.8333333333334 514.0333358764649" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1235)"></path><rect id="SvgjsRect1237" width="226" height="16" x="554.8333333333334" y="536.9541586295917" fill="#ffffff"></rect><text id="SvgjsText1238" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="226px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="534.3291586295917" transform="rotate(0)"><tspan id="SvgjsTspan1239" dy="16.25" x="667.8333333333334"><tspan id="SvgjsTspan1240" style="">1. if gate start before all manage svc</tspan></tspan></text></g></svg>