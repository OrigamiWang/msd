<svg id="SvgjsSvg1268" width="1378.75" height="809.5277777777778" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1269"><pattern patternUnits="userSpaceOnUse" id="pattern_mark_0" width="300" height="300"><text x="150" y="100" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><pattern patternUnits="userSpaceOnUse" id="pattern_mark_1" width="300" height="300"><text x="150" y="200" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><marker id="SvgjsMarker1313" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1314" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1317" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1318" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1321" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1322" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1329" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1330" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1333" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1334" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1353" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1354" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1367" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1368" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1415" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1416" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1429" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1430" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1443" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1444" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1471" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1472" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1491" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1492" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1499" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1500" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="1378.75" height="809.5277777777778" fill="transparent"></rect><rect id="SvgjsRect1271" width="1378.75" height="809.5277777777778" fill="url(#pattern_mark_0)"></rect><rect id="SvgjsRect1272" width="1378.75" height="809.5277777777778" fill="url(#pattern_mark_1)"></rect><g id="SvgjsG1273" transform="translate(134.5,30)"><path id="SvgjsPath1274" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1275"><text id="SvgjsText1276" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1277" dy="16.25" x="48"><tspan id="SvgjsTspan1278" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1279" transform="translate(134.5,288)"><path id="SvgjsPath1280" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1281"><text id="SvgjsText1282" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1283" dy="16.25" x="48"><tspan id="SvgjsTspan1284" style="">register-</tspan></tspan><tspan id="SvgjsTspan1285" dy="16.25" x="48"><tspan id="SvgjsTspan1286" style="">center</tspan></tspan></text></g></g><g id="SvgjsG1287" transform="translate(399.5,30)"><path id="SvgjsPath1288" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1289"><text id="SvgjsText1290" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1291" dy="16.25" x="48"><tspan id="SvgjsTspan1292" style="">manage(1)</tspan></tspan></text></g></g><g id="SvgjsG1293" transform="translate(515.5,30)"><path id="SvgjsPath1294" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1295"><text id="SvgjsText1296" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1297" dy="16.25" x="48"><tspan id="SvgjsTspan1298" style="">manage(2)</tspan></tspan></text></g></g><g id="SvgjsG1299" transform="translate(631.5,30)"><path id="SvgjsPath1300" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1301"><text id="SvgjsText1302" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1303" dy="16.25" x="48"><tspan id="SvgjsTspan1304" style="">manage(3)</tspan></tspan></text></g></g><g id="SvgjsG1305" transform="translate(289.5,275)"><path id="SvgjsPath1306" d="M 0 11.666666666666666L 0 68C 0 84 70 84 70 68L 70 11.666666666666666C 70 -3.1818181818181817 0 -3.1818181818181817 0 11.666666666666666ZM 0 11.666666666666666C 0 26.25 70 26.25 70 11.666666666666666C 70 26.25 0 26.25 0 11.666666666666666" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1307"><text id="SvgjsText1308" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="21.375" transform="rotate(0)"><tspan id="SvgjsTspan1309" dy="16.25" x="35"><tspan id="SvgjsTspan1310" style="">redis</tspan></tspan></text></g></g><g id="SvgjsG1311"><path id="SvgjsPath1312" d="M447.5 84.75L447.5 315L362.2 315" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1313)"></path></g><g id="SvgjsG1315"><path id="SvgjsPath1316" d="M563.5 84.75L563.5 315L362.2 315" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1317)"></path></g><g id="SvgjsG1319"><path id="SvgjsPath1320" d="M679.5 84.75L679.5 315L362.2 315" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1321)"></path><rect id="SvgjsRect1323" width="333" height="16" x="341.5" y="183.4112850438445" fill="#ffffff"></rect><text id="SvgjsText1324" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="333px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="180.7862850438445" transform="rotate(0)"><tspan id="SvgjsTspan1325" dy="16.25" x="508"><tspan id="SvgjsTspan1326" style="">1. svc start，register at redis. Eg: there are 3 instances</tspan></tspan></text></g><g id="SvgjsG1327"><path id="SvgjsPath1328" d="M288.75 315L260 315L260 315L233.2 315" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1329)"></path></g><g id="SvgjsG1331"><path id="SvgjsPath1332" d="M182.5 287.25L182.5 186L182.5 186L182.5 86.69999999999999" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1333)"></path><rect id="SvgjsRect1335" width="264" height="16" x="50.5" y="183.23505151973052" fill="#ffffff"></rect><text id="SvgjsText1336" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="264px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="180.61005151973052" transform="rotate(0)"><tspan id="SvgjsTspan1337" dy="16.25" x="182.5"><tspan id="SvgjsTspan1338" style="">2. get live instance through register-center</tspan></tspan></text></g><g id="SvgjsG1339" transform="translate(1245.5,30)"><path id="SvgjsPath1340" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1341"><text id="SvgjsText1342" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1343" dy="16.25" x="48"><tspan id="SvgjsTspan1344" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1345" transform="translate(1233.25,288)"><path id="SvgjsPath1346" d="M 0 4Q 0 0 4 0L 116.5 0Q 120.5 0 120.5 4L 120.5 50Q 120.5 54 116.5 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1347"><text id="SvgjsText1348" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="101px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1349" dy="16.25" x="60.5"><tspan id="SvgjsTspan1350" style="">manage(1/2/3)</tspan></tspan></text></g></g><g id="SvgjsG1351"><path id="SvgjsPath1352" d="M1293.5 84.75L1293.5 121.5L1293.5 121.5L1293.5 156.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1353)"></path><rect id="SvgjsRect1355" width="52" height="16" x="1267.5" y="114.91" fill="#ffffff"></rect><text id="SvgjsText1356" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="112.285" transform="rotate(0)"><tspan id="SvgjsTspan1357" dy="16.25" x="1293.5"><tspan id="SvgjsTspan1358" style="">负载均衡</tspan></tspan></text></g><g id="SvgjsG1359" transform="translate(1238,159)"><path id="SvgjsPath1360" d="M 0 0L 111 0L 111 54L 0 54Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1361"><text id="SvgjsText1362" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1363" dy="16.25" x="55.5"><tspan id="SvgjsTspan1364" style="">LoadBalancer</tspan></tspan></text></g></g><g id="SvgjsG1365"><path id="SvgjsPath1366" d="M1293.5 213.75L1293.5 250.5L1293.5 250.5L1293.5 285.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1367)"></path><rect id="SvgjsRect1369" width="26" height="16" x="1280.5" y="242.002" fill="#ffffff"></rect><text id="SvgjsText1370" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="239.377" transform="rotate(0)"><tspan id="SvgjsTspan1371" dy="16.25" x="1293.5"><tspan id="SvgjsTspan1372" style="">转发</tspan></tspan></text></g><g id="SvgjsG1373" transform="translate(982.2777777777778,392.3611136542426)"><path id="SvgjsPath1374" d="M 0 224.33333587646484L 0 0L 342 0L 342 224.33333587646484Q 256.5 167.33333587646484 171 224.33333587646484Q 85.5 281.33333587646484 0 224.33333587646484Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1375"><text id="SvgjsText1376" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="342px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="21.650001144409188" transform="rotate(0)"><tspan id="SvgjsTspan1377" dy="16.25" x="171"><tspan id="SvgjsTspan1378" style="">1. 微服务启动时向注册中心注册，并通过心跳机制持续与注</tspan></tspan><tspan id="SvgjsTspan1379" dy="16.25" x="171"><tspan id="SvgjsTspan1380" style="">册中心交流，保证自己的存活。</tspan></tspan><tspan id="SvgjsTspan1381" dy="16.25" x="171"><tspan id="SvgjsTspan1382" style="">2. redis将存活的微服务的信息存入redis</tspan></tspan><tspan id="SvgjsTspan1383" dy="16.25" x="171"><tspan id="SvgjsTspan1384" style="">3. gate获取存活的instance信息</tspan></tspan><tspan id="SvgjsTspan1385" dy="16.25" x="171"><tspan id="SvgjsTspan1386" style="">4. instance有变化时，通过kafka通知gate重新获取信息</tspan></tspan><tspan id="SvgjsTspan1387" dy="16.25" x="171"><tspan id="SvgjsTspan1388" style="">5. load balance在gate中实现</tspan></tspan><tspan id="SvgjsTspan1389" dy="16.25" x="171"><tspan id="SvgjsTspan1390" style="">6. 由于某个实例下线，在这时心跳机制有一个时间差导致注</tspan></tspan><tspan id="SvgjsTspan1391" dy="16.25" x="171"><tspan id="SvgjsTspan1392" style="">册中心以为这个实例还存活，gate在负载均衡时可能会将请</tspan></tspan><tspan id="SvgjsTspan1393" dy="16.25" x="171"><tspan id="SvgjsTspan1394" style="">求转发到已经下线的实例上，因此需要重新请求；重新请求</tspan></tspan><tspan id="SvgjsTspan1395" dy="16.25" x="171"><tspan id="SvgjsTspan1396" style="">多次失败后，使用负载均衡、服务发现、服务熔断等方式处</tspan></tspan><tspan id="SvgjsTspan1397" dy="16.25" x="171"><tspan id="SvgjsTspan1398" style="">理</tspan></tspan></text></g></g><g id="SvgjsG1399" transform="translate(806.5,25)"><path id="SvgjsPath1400" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1401"><text id="SvgjsText1402" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1403" dy="16.25" x="48"><tspan id="SvgjsTspan1404" style="">register-</tspan></tspan><tspan id="SvgjsTspan1405" dy="16.25" x="48"><tspan id="SvgjsTspan1406" style="">center</tspan></tspan></text></g></g><g id="SvgjsG1407" transform="translate(806.5,272)"><path id="SvgjsPath1408" d="M 15 0L 88.33333333333333 0C 103.18181818181819 0 103.18181818181819 70 88.33333333333333 70L 15 70C -5 70 -5 0 15 0ZM 88.33333333333333 0C 73.75 0 73.75 70 88.33333333333333 70C 73.75 70 73.75 0 88.33333333333333 0" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1409"><text id="SvgjsText1410" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1411" dy="16.25" x="40"><tspan id="SvgjsTspan1412" style="">kafka</tspan></tspan></text></g></g><g id="SvgjsG1413"><path id="SvgjsPath1414" d="M854.5 79.75L854.5 175.5L854.5 175.5L854.5 269.3" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1415)"></path><rect id="SvgjsRect1417" width="203" height="16" x="753" y="173.23618557193737" fill="#ffffff"></rect><text id="SvgjsText1418" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="203px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="170.61118557193737" transform="rotate(0)"><tspan id="SvgjsTspan1419" dy="16.25" x="854.5"><tspan id="SvgjsTspan1420" style="">3. instance update, produce msg</tspan></tspan></text></g><g id="SvgjsG1421" transform="translate(1002.5,25)"><path id="SvgjsPath1422" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1423"><text id="SvgjsText1424" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1425" dy="16.25" x="48"><tspan id="SvgjsTspan1426" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1427"><path id="SvgjsPath1428" d="M907.25 307L1049.5 307L1049.5 84" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1429)"></path><rect id="SvgjsRect1431" width="279" height="16" x="910" y="218.04166920458684" fill="#ffffff"></rect><text id="SvgjsText1432" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="279px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="215.41666920458684" transform="rotate(0)"><tspan id="SvgjsTspan1433" dy="16.25" x="1049.5"><tspan id="SvgjsTspan1434" style="">4. consume msg, get updated instance detail</tspan></tspan></text></g><g id="SvgjsG1435" transform="translate(134.5,392.3611136542426)"><path id="SvgjsPath1436" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1437"><text id="SvgjsText1438" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1439" dy="16.25" x="48"><tspan id="SvgjsTspan1440" style="">manage(3)</tspan></tspan></text></g></g><g id="SvgjsG1441"><path id="SvgjsPath1442" d="M182.5 447.1111136542427L182.5 512.4861136542427L182.5 512.4861136542427L182.5 575.9111136542426" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1443)"></path><rect id="SvgjsRect1445" width="314" height="64" x="25.5" y="476.3393791788679" fill="#ffffff"></rect><text id="SvgjsText1446" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="314px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="473.7143791788679" transform="rotate(0)"><tspan id="SvgjsTspan1447" dy="16.25" x="182.5"><tspan id="SvgjsTspan1448" style="">4. instance off line, </tspan></tspan><tspan id="SvgjsTspan1449" dy="16.25" x="182.5"><tspan id="SvgjsTspan1450" style="">as a result of heart-beat-principle</tspan></tspan><tspan id="SvgjsTspan1451" dy="16.25" x="182.5"><tspan id="SvgjsTspan1452" style="">there is a time interrval that </tspan></tspan><tspan id="SvgjsTspan1453" dy="16.25" x="182.5"><tspan id="SvgjsTspan1454" style="">the register-center can not feel the off-line directly</tspan></tspan></text></g><g id="SvgjsG1455" transform="translate(134.5,578.6111136542427)"><path id="SvgjsPath1456" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1457"><text id="SvgjsText1458" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1459" dy="16.25" x="48"><tspan id="SvgjsTspan1460" style="">register-</tspan></tspan><tspan id="SvgjsTspan1461" dy="16.25" x="48"><tspan id="SvgjsTspan1462" style="">center</tspan></tspan></text></g></g><g id="SvgjsG1463" transform="translate(520.4166412353516,392.3611136542426)"><path id="SvgjsPath1464" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1465"><text id="SvgjsText1466" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1467" dy="16.25" x="48"><tspan id="SvgjsTspan1468" style="">gate</tspan></tspan></text></g></g><g id="SvgjsG1469"><path id="SvgjsPath1470" d="M568.4166412353516 447.1111136542427L568.4166412353516 487.96527968512646L568.4166412353516 487.96527968512646L568.4166412353516 526.8694457160102" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1471)"></path><rect id="SvgjsRect1473" width="220" height="16" x="458.41664123535156" y="473.39320375096736" fill="#ffffff"></rect><text id="SvgjsText1474" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="220px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="470.76820375096736" transform="rotate(0)"><tspan id="SvgjsTspan1475" dy="16.25" x="568.4166412353516"><tspan id="SvgjsTspan1476" style="">5. so the gate load balance may fail</tspan></tspan></text></g><g id="SvgjsG1477" transform="translate(520.4166412353516,730.5277777777778)"><path id="SvgjsPath1478" d="M 0 4Q 0 0 4 0L 92 0Q 96 0 96 4L 96 50Q 96 54 92 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1479"><text id="SvgjsText1480" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="76px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1481" dy="16.25" x="48"><tspan id="SvgjsTspan1482" style="">mange(3)</tspan></tspan></text></g></g><g id="SvgjsG1483" transform="translate(508.79164123535156,529.5694457160103)"><path id="SvgjsPath1484" d="M 0 4Q 0 0 4 0L 115.25 0Q 119.25 0 119.25 4L 119.25 50Q 119.25 54 115.25 54L 4 54Q 0 54 0 50Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1485"><text id="SvgjsText1486" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1487" dy="16.25" x="60"><tspan id="SvgjsTspan1488" style="">LoadBalancer</tspan></tspan></text></g></g><g id="SvgjsG1489"><path id="SvgjsPath1490" d="M568.4166412353516 584.3194457160103L568.4166412353516 657.048611746894L568.4166412353516 657.048611746894L568.4166412353516 727.8277777777778" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1491)"></path><rect id="SvgjsRect1493" width="134" height="16" x="501.41664123535156" y="633.7371540030049" fill="#ffffff"></rect><text id="SvgjsText1494" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="134px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="631.1121540030049" transform="rotate(0)"><tspan id="SvgjsTspan1495" dy="16.25" x="568.4166412353516"><tspan id="SvgjsTspan1496" style="">6. fail to get response</tspan></tspan></text></g><g id="SvgjsG1497"><path id="SvgjsPath1498" d="M628.7916412353516 556.5694457160103L795.5416412353516 556.5694457160103L795.5416412353516 757.5277777777778L619.1166412353516 757.5277777777778" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1499)"></path><rect id="SvgjsRect1501" width="165" height="16" x="713.0416412353516" y="605.4432586741366" fill="#ffffff"></rect><text id="SvgjsText1502" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="165px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="602.8182586741366" transform="rotate(0)"><tspan id="SvgjsTspan1503" dy="16.25" x="795.5416412353516"><tspan id="SvgjsTspan1504" style="">7. try 3 times, do callllback</tspan></tspan></text><rect id="SvgjsRect1505" width="112" height="80" x="739.5416412353516" y="636.7640215595887" fill="#ffffff"></rect><text id="SvgjsText1506" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="112px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="634.1390215595887" transform="rotate(0)"><tspan id="SvgjsTspan1507" dy="16.25" x="795.5416412353516"><tspan id="SvgjsTspan1508" style="">8. Collback; </tspan></tspan><tspan id="SvgjsTspan1509" dy="16.25" x="795.5416412353516"><tspan id="SvgjsTspan1510" style="">Eg: </tspan></tspan><tspan id="SvgjsTspan1511" dy="16.25" x="795.5416412353516"><tspan id="SvgjsTspan1512" style="">Load Balance; </tspan></tspan><tspan id="SvgjsTspan1513" dy="16.25" x="795.5416412353516"><tspan id="SvgjsTspan1514" style="">Service Discovery;</tspan></tspan><tspan id="SvgjsTspan1515" dy="16.25" x="795.5416412353516"><tspan id="SvgjsTspan1516" style="">Circuit Breaker </tspan></tspan></text></g></svg>